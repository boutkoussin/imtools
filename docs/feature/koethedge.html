<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"><html>  <head>    <meta content="text/html; charset=utf-8" http-equiv="content-type">    <!--This HTML was auto-generated from MATLAB code.To make changes, update the MATLAB code and republish this document.      -->    <title>KOETHEDGE - Edge and junction detection with an improved structure      tensor.</title>    <meta name="generator" content="MATLAB 7.14">    <link rel="schema.DC" href="http://purl.org/dc/elements/1.1/">    <meta name="DC.date" content="2012-05-31">    <meta name="DC.source" content="koethedge.m">    <style type="text/css">html,body,div,span,applet,object,iframe,h1,h2,h3,h4,h5,h6,p,blockquote,pre,a,abbr,acronym,address,big,cite,code,del,dfn,em,font,img,ins,kbd,q,s,samp,small,strike,strong,sub,sup,tt,var,b,u,i,center,dl,dt,dd,ol,ul,li,fieldset,form,label,legend,table,caption,tbody,tfoot,thead,tr,th,td{margin:0;padding:0;border:0;outline:0;font-size:100%;vertical-align:baseline;background:transparent}body{line-height:1}ol,ul{list-style:none}blockquote,q{quotes:none}blockquote:before,blockquote:after,q:before,q:after{content:'';content:none}:focus{outine:0}ins{text-decoration:none}del{text-decoration:line-through}table{border-collapse:collapse;border-spacing:0}html { min-height:100%; margin-bottom:1px; }html body { height:100%; margin:0px; font-family:Arial, Helvetica, sans-serif; font-size:10px; color:#000; line-height:140%; background:#fff none; overflow-y:scroll; }html body td { vertical-align:top; text-align:left; }h1 { padding:0px; margin:0px 0px 25px; font-family:Arial, Helvetica, sans-serif; font-size:1.5em; color:#d55000; line-height:100%; font-weight:normal; }h2 { padding:0px; margin:0px 0px 8px; font-family:Arial, Helvetica, sans-serif; font-size:1.2em; color:#000; font-weight:bold; line-height:140%; border-bottom:1px solid #d6d4d4; display:block; }h3 { padding:0px; margin:0px 0px 5px; font-family:Arial, Helvetica, sans-serif; font-size:1.1em; color:#000; font-weight:bold; line-height:140%; }a { color:#005fce; text-decoration:none; }a:hover { color:#005fce; text-decoration:underline; }a:visited { color:#004aa0; text-decoration:none; }p { padding:0px; margin:0px 0px 20px; }img { padding:0px; margin:0px 0px 20px; border:none; }p img, pre img, tt img, li img { margin-bottom:0px; } ul { padding:0px; margin:0px 0px 20px 23px; list-style:square; }ul li { padding:0px; margin:0px 0px 7px 0px; }ul li ul { padding:5px 0px 0px; margin:0px 0px 7px 23px; }ul li ol li { list-style:decimal; }ol { padding:0px; margin:0px 0px 20px 0px; list-style:decimal; }ol li { padding:0px; margin:0px 0px 7px 23px; list-style-type:decimal; }ol li ol { padding:5px 0px 0px; margin:0px 0px 7px 0px; }ol li ol li { list-style-type:lower-alpha; }ol li ul { padding-top:7px; }ol li ul li { list-style:square; }.content { font-size:1.2em; line-height:140%; padding: 20px; }pre, tt, code { font-size:12px; }pre { margin:0px 0px 20px; }pre.error { color:red; }pre.codeinput { padding:10px; border:1px solid #d3d3d3; background:#f7f7f7; }pre.codeoutput { padding:10px 11px; margin:0px 0px 20px; color:#4c4c4c; }@media print { pre.codeinput, pre.codeoutput { word-wrap:break-word; width:100%; } }span.keyword { color:#0000FF }span.comment { color:#228B22 }span.string { color:#A020F0 }span.untermstring { color:#B20000 }span.syscmd { color:#B28C00 }.footer { width:auto; padding:10px 0px; margin:25px 0px 0px; border-top:1px dotted #878787; font-size:0.8em; line-height:140%; font-style:italic; color:#878787; text-align:left; float:none; }.footer p { margin:0px; }  </style>  </head>  <body>    <div class="content">      <h1>KOETHEDGE - Edge and junction detection with an improved structure        tensor.</h1>      <!--introduction--><!--/introduction-->      <h2>Contents</h2>      <div>        <ul>          <li><a href="#1">Description</a></li>          <li><a href="#2">Syntax</a></li>          <li><a href="#3">Inputs</a></li>          <li><a href="#4">Property [propertyname propertyvalues]</a></li>          <li><a href="#5">Outputs</a></li>          <li><a href="#6">References</a></li>          <li><a href="#8">See also</a></li>          <li><a href="#9">Function implementation</a></li>        </ul>      </div>      <h2>Description<a name="1"></a></h2>      <p>Implements the edge/corner detector based on the boundary tensor        estimated from the gradient structure tensor (GST) as suggested and in        Koethe's papers [Koth03a,Koth03b,Koth06].</p>      <h2>Syntax<a name="2"></a></h2>      <pre>   [emap, cmap] = KOETHEDGE(I);   [emap, cmap, T] = KOETHEDGE(I, rho, sigma, 'Property', propertyvalue, ...);</pre>      <h2>Inputs<a name="3"></a></h2>      <p><b><tt>I</tt></b> : an input image with size <tt>(X,Y,C)</tt>, where <tt>C&gt;1</tt>        when <tt>I</tt> is multichannel.</p>      <p><b><tt>rho</tt></b> : post-smoothing width; this parameter sets the        integration scale for spatial averaging, that controls the size of the        neighbourhood in which an orientation is dominant; it is used for        averaging the partial directional derivatives of the tensor with a        Gaussian kernel; if <tt>rho&lt;0.05</tt>, then no smoothing is        performed; default: <tt>rho=1</tt>.</p>      <p><b><tt>sigma</tt></b> : pre-smoothing width; this parameter sets the        differentiation scale in the case the image is smoothed prior to the        differentiation through Gaussian filtering; <tt>sigma</tt> typically        controls the size of the objects whose orientation has to be estimated;        default: <tt>sigma=1</tt>, i.e. Gaussian regularisation is used for        estimating the derivatives.</p>      <h2>Property [propertyname propertyvalues]<a name="4"></a></h2>      <p><b><tt>'der'</tt></b> : string defining the method of        pre-smoothing/differentiation used for estimating the directional        derivatives of the input image; it is either (see <tt>GRDSMOOTH</tt>):        <tt>'matlab'</tt>, <tt>'vista'</tt>, <tt>'fast'</tt>, <tt>'conv'</tt>,        <tt>'fleck'</tt>, <tt>'tap5'</tt>, <tt>'tap7'</tt>, <tt>'sob'</tt>, <tt>'opt'</tt>        or <tt>'ana'</tt>; default: <tt>der='fast'</tt>.</p>      <p><b><tt>'int'</tt></b> : string defining the method used for the        post-smoothing of the GST; it is either (see <tt>GRD2GST</tt>): <tt>'matlab'</tt>,        <tt>'conv'</tt> or <tt>'fast'</tt> for isotropic Gaussian smoothing, or        <tt>'ani'</tt> for anisotropic Gaussian (using hour-glass shaped        Gaussian kernels) along the edges; this latter better captures edges        anisotropy; default: <tt>int='fast'</tt>.</p>      <p><b><tt>'map'</tt></b> : string defining the Canny-like algorithm used        for extracting edges from the gradient-like vector derived from the        first eigenvector of the GST; it is either:</p>      <div>        <ul>          <li><tt>'canny'</tt> for standard hystheresis + non-maximum            suppression following Canny algorithm [Canny86],</li>          <li><tt>'rothwell'</tt> for subpixel approach of [RMHN95];</li>        </ul>      </div>      <p>default: <tt>map='rothwell'</tt>.</p>      <p><b><tt>'samp'</tt></b> : to perform <tt>(* samp)</tt> interpolation of        the estimated gradient to avoid aliasing (<tt>samp=2</tt> is suggested        in [Koth03a]); default: <tt>samp=1</tt>.</p>      <p><b><tt>'low'</tt></b> : unique threshold value used by the Rothwell        technique (ie. when <tt>map='rothwell'</tt>); typical range of values        is <tt>[3,18]</tt>; default: <tt>low=5</tt>.</p>      <p><b><tt>'a'</tt></b> : parameter used for <tt>map='rothwell'</tt>;        typical range of values is <tt>[0.8,0.95]</tt>; default: <tt>a=0.8</tt>.</p>      <p><b><tt>'eign'</tt></b> : optional string defining the method used for        the tensor's norm approximation when map='canny'; it is either:</p>      <div>        <ul>          <li><tt>'abs'</tt> for the absolute value of the first eigenvalue: <img              src="koethedge_eq70143.png"              alt="$\| l_1 \|$">,</li>          <li><tt>'zen'</tt> (or <tt>'l1'</tt>) for the square root of the            largest eigenvalue: <img src="koethedge_eq62012.png" alt="$\sqrt{l_1}$">,</li>          <li><tt>'sap'</tt> (or <tt>'sum'</tt>) for the sum of the            eigenvalues: <img src="koethedge_eq32720.png" alt="$\sqrt{l_1+l_2}$">,</li>          <li><tt>'koe'</tt> (or <tt>'dif'</tt>) for the difference of the            eigenvalues: <img src="koethedge_eq89852.png" alt="$\sqrt{l_1-l_2}$">,</li>          <li><tt>'ndi'</tt> for the normalized difference of the eigenvalues: <img              src="koethedge_eq40196.png"              alt="$(l_1-l_2) / (\sqrt{l_1+l_2})$">;</li>        </ul>      </div>      <p>default: <tt>eign='koe'</tt> (see also <tt>GRD2GST</tt>).</p>      <p><b><tt>'hyst'</tt></b> : vector <tt>[low high]</tt> setting the low        and high hystheresis threshold values with <tt>0&lt;=low&lt;high&lt;1</tt>        used when <tt>map='canny'</tt>; default: <tt>hyst=[]</tt>, and the        threshold values are chosen automatically (see <tt>EDGE</tt>) or using        the ratio variable below.</p>      <p><b><tt>'radius'</tt></b> : size of the neighbourhood used for local        maxima detection; default: <tt>radius=3</tt>.</p>      <h2>Outputs<a name="5"></a></h2>      <p><b><tt>emap</tt></b> : logical edge map.</p>      <p><b><tt>cmap</tt></b> : logical corner map.</p>      <p><b><tt>T</tt></b> : optional variable storing the GST estimated through        the calculation.</p>      <h2>References<a name="6"></a></h2>      <p>[Canny86] J.F. Canny: "A computational approach to edge detection",        IEEE Trans. on Pattern Analysis and Machine Intelligence, 8(6):679-698,        1986. <a href="http://ieeexplore.ieee.org/xpls/abs_all.jsp?arnumber=4767851&amp;tag=1">http://ieeexplore.ieee.org/xpls/abs_all.jsp?arnumber=4767851&amp;tag=1</a></p>      <p>[RMHN95] C. Rothwell, J. Mundy, B. Hoffman and V.-D. Nguyen: "Driving        Vision by Topology", Proc. International Symposium on Computer Vision,        pp. 395-400 - Techn. report 2444, INRIA, 1995. <a href="http://ieeexplore.ieee.org/xpls/abs_all.jsp?arnumber=477034&amp;tag=1">http://ieeexplore.ieee.org/xpls/abs_all.jsp?arnumber=477034&amp;tag=1</a></p>      <p>[Koth03a] U. Kothe: "Edge and junction detection with an improved        structure tensor", Proc. of DAGM Symposium, LNCS 2781, pp. 25-32,        Springer, 2003. <a href="http://hci.iwr.uni-heidelberg.de/Staff/ukoethe/papers/structureTensor.pdf">http://hci.iwr.uni-heidelberg.de/Staff/ukoethe/papers/structureTensor.pdf</a></p>      <p>[Koth03b] U. Kothe: "Integrated edge and junction detection with the        boundary tensor", Proc. ICCV, vol. 1, pp. 424-431, 2003. <a href="http://hci.iwr.uni-heidelberg.de/Staff/ukoethe/papers/polarfilters.pdf">http://hci.iwr.uni-heidelberg.de/Staff/ukoethe/papers/polarfilters.pdf</a></p>      <p>[Koth06] U. Kothe: "Low-level feature detection using the boundary        tensor", in "Visualization and Processing of Tensor Fields", Series on        Mathematics and Visualization, pp. 63-79, Springer, 2006. <a href="http://hci.iwr.uni-heidelberg.de/Staff/ukoethe/papers/tensorsDagstuhl.pdf">http://hci.iwr.uni-heidelberg.de/Staff/ukoethe/papers/tensorsDagstuhl.pdf</a></p>      <h2>See also<a name="8"></a></h2>      <p>Related: <a href="EDGEcorner.html"><tt>EDGECORNER</tt></a>, <a href="corner.html"><tt>CORNER</tt></a>,        <a href="cannyedge.html"><tt>CANNYEDGE</tt></a>, <a href="cannyedgeprod.html"><tt>CANNYEDGEPROD</tt></a>,        <a href="cannyedgemap.html"><tt>CANNYEDGEMAP</tt></a>, <a href="sdgdedge.html"><tt>SDGDEDGE</tt></a>,        <a href="congruencyedge.html"><tt>CONGRUENCYEDGE</tt></a>, <a href="compassedge.html"><tt>COMPASSEDGE</tt></a>,        <a href="anisoedge.html"><tt>ANISOEDGE</tt></a>, <a href="elderzuckeredge.html"><tt>ELDERZUCKEREDGE</tt></a>,        <a href="petrouedge.html"><tt>PETROUEDGE</tt></a>, <a href="rothwelledge.html"><tt>ROTHWELLEDGE</tt></a>,        <a href="HARRIScorner.html"><tt>HARRISCORNER</tt></a>, <a href="SUSANcorner.html"><tt>SUSANCORNER</tt></a>,        <a href="FASTcorner.html"><tt>FASTCORNER</tt></a>, <a href="fastcpda.html"><tt>FASTCPDA</tt></a>.        Called: <a href="koethedge_base.html"><tt>KOETHEDGE_BASE</tt></a>.</p>      <h2>Function implementation<a name="9"></a></h2>      <pre class="codeinput"><span class="keyword">function</span> [emap, cmap, varargout] = koethedge(I, varargin)</pre>      <p>parsing parameters</p>      <pre class="codeinput">error(nargchk(1, 25, nargin, <span class="string">'struct'</span>));error(nargoutchk(1, 3, nargout, <span class="string">'struct'</span>));<span class="keyword">if</span> ~isnumeric(I)    error(<span class="string">'koethedge:inputerror'</span>,<span class="string">'matrix required in input'</span>);<span class="keyword">end</span>p = createParser(<span class="string">'KOETHEDGE'</span>);p.addOptional(<span class="string">'rho'</span>, 1, @(x)isscalar(x) &amp;&amp; isfloat(x) &amp;&amp; x&gt;=0);p.addOptional(<span class="string">'sigma'</span>, 1, @(x)isscalar(x) &amp;&amp; isfloat(x) &amp;&amp; x&gt;=0);<span class="comment">% other optional inputs</span>p.addParamValue(<span class="string">'der'</span>, <span class="string">'fast'</span>, @(x)islogical(x) || (ischar(x) &amp;&amp; <spanclass="keyword">...</span>    any(strcmpi(x,{<span class="string">'matlab'</span>,<span class="string">'vista'</span>,<spanclass="string">'fast'</span>,<spanclass="string">'conv'</span>,<spanclass="string">'fleck'</span>, <spanclass="keyword">...</span>    <span class="string">'tap5'</span>,<span class="string">'tap7'</span>,<spanclass="string">'sob'</span>,<spanclass="string">'opt'</span>,<spanclass="string">'ana'</span>}))));p.addParamValue(<span class="string">'int'</span>, <span class="string">'fast'</span>, @(x)islogical(x) || (ischar(x) &amp;&amp; <spanclass="keyword">...</span>    any(strcmpi(x,{<span class="string">'matlab'</span>,<span class="string">'conv'</span>,<spanclass="string">'fast'</span>,<spanclass="string">'ani'</span>}))));p.addParamValue(<span class="string">'map'</span>, <span class="string">'rothwell'</span>, @(x)ischar(x) &amp;&amp; <spanclass="keyword">...</span>    any(strcmpi(x,{<span class="string">'canny'</span>,<span class="string">'rothwell'</span>})));p.addParamValue(<span class="string">'samp'</span>, 1, @(x)isscalar(x) &amp;&amp; round(x)==x &amp;&amp; x&gt;=1 &amp;&amp; x&lt;=5);p.addParamValue(<span class="string">'radius'</span>, 3, @(x)isscalar(x) &amp;&amp; round(x)==x &amp;&amp; x&gt;0);p.addParamValue(<span class="string">'eign'</span>,[],@(x)ischar(x) &amp;&amp; <spanclass="keyword">...</span>    any(strcmpi(x,{<span class="string">'abs'</span>,<span class="string">'zen'</span>,<spanclass="string">'l1'</span>,<spanclass="string">'sap'</span>,<spanclass="string">'sum'</span>,<spanclass="string">'ndi'</span>,<spanclass="string">'dif'</span>,<spanclass="string">'koe'</span>})));p.addParamValue(<span class="string">'hyst'</span>, [], <span class="keyword">...</span>    @(x)isvector(x) &amp;&amp; length(x)&lt;=2 &amp;&amp; all(x&gt;=0) &amp;&amp; all(x&lt;1));p.addParamValue(<span class="string">'low'</span>, [], @(x)isscalar(x) &amp;&amp; x&gt;=0 &amp;&amp; x&lt;=20);p.addParamValue(<span class="string">'a'</span>, [], @(x)isscalar(x) &amp;&amp; x&gt;=0 &amp;&amp; x&lt;=1);<span class="comment">% parse and validate all input arguments</span>p.parse(varargin{:});p = getvarParser(p);</pre>      <p>checking/setting parameters</p>      <pre class="codeinput"><span class="keyword">switch</span> p.map    <span class="keyword">case</span> <span class="string">'canny'</span>        <span class="keyword">if</span> ~(isempty(p.low) &amp;&amp; isempty(p.a))            warning(<span class="string">'rothwelledge:inputwarning'</span>,<spanclass="keyword">...</span>                [<span class="string">'incompatible ''low'' and ''a'' with map=''canny'''</span> <spanclass="keyword">...</span>                <span class="string">' - parameters ignored'</span>])        <span class="keyword">end</span>        <span class="keyword">if</span> isempty(p.eign),  p.eign = <span class="string">'koe'</span>;  <spanclass="keyword">end</span>        v1 = p.eign;        v2 = p.hyst;    <span class="keyword">case</span> <span class="string">'rothwell'</span>        <span class="keyword">if</span> ~(isempty(p.eign) &amp;&amp; isempty(p.hyst))            warning(<span class="string">'rothwelledge:inputwarning'</span>,<spanclass="keyword">...</span>                [<span class="string">'incompatible ''eign'' and ''hyst'' with map=''rothwell'''</span> <spanclass="keyword">...</span>                <span class="string">' - parameters ignored'</span>])        <span class="keyword">end</span>        <span class="keyword">if</span> isempty(p.low),  p.low = 5;  <span class="keyword">end</span>        <span class="keyword">if</span> isempty(p.a),  p.a = 0.8;  <span class="keyword">end</span>        v1 = p.low;       v2 = p.a;<span class="keyword">end</span></pre>      <p>main computation</p>      <pre class="codeinput">[emap, cmap, T] = <span class="keyword">...</span>    koethedge_base(I, p.rho, p.sigma, p.der, p.int, p.map, <span class="keyword">...</span>    p.samp, v1, v2, p.radius);<span class="keyword">if</span> nargout==3,  varargout{1} = T;  <span class="keyword">end</span></pre>      <p>display</p>      <pre class="codeinput"><span class="keyword">if</span> p.disp    figure,  colormap <span class="string">gray</span>    subplot(1,2,1), imagesc(emap), axis <span class="string">image</span> <spanclass="string">off</span>, title(<spanclass="string">'GST-base edge map'</span>);    subplot(1,2,2), imagesc(cmap), axis <span class="string">image</span> <spanclass="string">off</span>, title(<spanclass="string">'GST-base corner map'</span>);<span class="keyword">end</span></pre>      <pre class="codeinput"><span class="keyword">end</span> <span class="comment">% end of koethedge</span></pre></div>    <!--##### SOURCE BEGIN #####%% KOETHEDGE - Edge and junction detection with an improved structure tensor.% %% Description% Implements the edge/corner detector based on the boundary tensor estimated % from the gradient structure tensor (GST) as suggested and in Koethe's papers% [Koth03a,Koth03b,Koth06].%%% Syntax%     [emap, cmap] = KOETHEDGE(I);%     [emap, cmap, T] = KOETHEDGE(I, rho, sigma, 'Property', propertyvalue, ...);% %% Inputs% *|I|* : an input image with size |(X,Y,C)|, where |C>1| when |I| is multichannel.%      % *|rho|* : post-smoothing width; this parameter sets the integration scale%     for spatial averaging, that controls the size of the neighbourhood%     in which an orientation is dominant; it is  used for averaging the%     partial directional derivatives of the tensor with a Gaussian kernel;%     if |rho<0.05|, then no smoothing is performed; default: |rho=1|.%      % *|sigma|* : pre-smoothing width; this parameter sets the differentiation%     scale in the case the image is smoothed prior to the differentiation %     through Gaussian filtering; |sigma| typically controls the size of the%     objects whose orientation has to be estimated; default: |sigma=1|,%     i.e. Gaussian regularisation is used for estimating the derivatives.%%% Property [propertyname  propertyvalues]% *|'der'|* : string defining the method of pre-smoothing/differentiation used%     for estimating the directional derivatives of the input image; it is %     either (see |GRDSMOOTH|): |'matlab'|, |'vista'|, |'fast'|, |'conv'|, %     |'fleck'|, |'tap5'|, |'tap7'|, |'sob'|, |'opt'| or |'ana'|; default: %     |der='fast'|.%      % *|'int'|* : string defining the method used for the post-smoothing of the%     GST; it is either (see |GRD2GST|): |'matlab'|, |'conv'| or |'fast'| for %     isotropic Gaussian smoothing, or |'ani'| for anisotropic Gaussian (using%     hour-glass shaped Gaussian kernels) along the edges; this latter better%     captures edges anisotropy; default: |int='fast'|.%      % *|'map'|* : string defining the Canny-like algorithm used for extracting%     edges from the gradient-like vector derived from the first eigenvector%     of the GST; it is either:%      % * |'canny'| for standard hystheresis + non-maximum suppression following%          Canny algorithm [Canny86],% * |'rothwell'| for subpixel approach of [RMHN95];%      % default: |map='rothwell'|.%      % *|'samp'|* : to perform |(* samp)| interpolation of the estimated gradient%     to avoid aliasing (|samp=2| is suggested in [Koth03a]); default: |samp=1|.%      % *|'low'|* : unique threshold value used by the Rothwell technique (ie. when%     |map='rothwell'|); typical range of values is |[3,18]|; default: |low=5|.%      % *|'a'|* : parameter used for |map='rothwell'|; typical range of values is%     |[0.8,0.95]|; default: |a=0.8|. %      % *|'eign'|* : optional string defining the method used for the tensor's norm%     approximation when map='canny'; it is either:%      % * |'abs'| for the absolute value of the first eigenvalue: $\| l_1 \|$,% * |'zen'| (or |'l1'|) for the square root of the largest eigenvalue: %          $\sqrt{l_1}$,% * |'sap'| (or |'sum'|) for the sum of the eigenvalues: $\sqrt{l_1+l_2}$,% * |'koe'| (or |'dif'|) for the difference of the eigenvalues: $\sqrt{l_1-l_2}$,% * |'ndi'| for the normalized difference of the eigenvalues: %          $(l_1-l_2) / (\sqrt{l_1+l_2})$;%      % default: |eign='koe'| (see also |GRD2GST|). %      % *|'hyst'|* : vector |[low high]| setting the low and high hystheresis threshold %     values with |0<=low<high<1| used when |map='canny'|; default: |hyst=[]|, %     and the threshold values are chosen automatically (see |EDGE|) or using%     the ratio variable below.%      % *|'radius'|* : size of the neighbourhood used for local maxima detection;%     default: |radius=3|.%%% Outputs% *|emap|* : logical edge map.%      % *|cmap|* : logical corner map.%      % *|T|* : optional variable storing the GST estimated through the%     calculation.%%% References% [Canny86]  J.F. Canny: "A computational approach to edge detection",%      IEEE Trans. on Pattern Analysis and Machine Intelligence, 8(6):679-698,%      1986.%      <http://ieeexplore.ieee.org/xpls/abs_all.jsp?arnumber=4767851&tag=1>%      % [RMHN95] C. Rothwell, J. Mundy, B. Hoffman and V.-D. Nguyen: "Driving%      Vision by Topology", Proc. International Symposium on Computer Vision,%      pp. 395-400 - Techn. report 2444, INRIA, 1995.%      <http://ieeexplore.ieee.org/xpls/abs_all.jsp?arnumber=477034&tag=1>%      % [Koth03a]  U. Kothe: "Edge and junction detection with an improved structure %      tensor", Proc. of DAGM Symposium, LNCS 2781, pp. 25-32, Springer, 2003.%      <http://hci.iwr.uni-heidelberg.de/Staff/ukoethe/papers/structureTensor.pdf>%      % [Koth03b]  U. Kothe: "Integrated edge and junction detection with the %      boundary tensor", Proc. ICCV, vol. 1, pp. 424-431, 2003.%      <http://hci.iwr.uni-heidelberg.de/Staff/ukoethe/papers/polarfilters.pdf>%      % [Koth06]  U. Kothe: "Low-level feature detection using the boundary %      tensor", in "Visualization and Processing of Tensor Fields", Series%      on Mathematics and Visualization, pp. 63-79, Springer, 2006. %      <http://hci.iwr.uni-heidelberg.de/Staff/ukoethe/papers/tensorsDagstuhl.pdf>%%% Credit% <mailto:grazzja@lanl.gov J.Grazzini> (ISR-2/LANL)%%% See also% Related:% <EDGEcorner.html |EDGECORNER|>,% <corner.html |CORNER|>,% <cannyedge.html |CANNYEDGE|>,% <cannyedgeprod.html |CANNYEDGEPROD|>,% <cannyedgemap.html |CANNYEDGEMAP|>,% <sdgdedge.html |SDGDEDGE|>,% <congruencyedge.html |CONGRUENCYEDGE|>,% <compassedge.html |COMPASSEDGE|>,% <anisoedge.html |ANISOEDGE|>,% <elderzuckeredge.html |ELDERZUCKEREDGE|>,% <petrouedge.html |PETROUEDGE|>,% <rothwelledge.html |ROTHWELLEDGE|>,% <HARRIScorner.html |HARRISCORNER|>,% <SUSANcorner.html |SUSANCORNER|>,% <FASTcorner.html |FASTCORNER|>,% <fastcpda.html |FASTCPDA|>.% Called: % <koethedge_base.html |KOETHEDGE_BASE|>.%% Function implementationfunction [emap, cmap, varargout] = koethedge(I, varargin)%% % parsing parameterserror(nargchk(1, 25, nargin, 'struct'));error(nargoutchk(1, 3, nargout, 'struct'));if ~isnumeric(I)    error('koethedge:inputerror','matrix required in input'); endp = createParser('KOETHEDGE');   p.addOptional('rho', 1, @(x)isscalar(x) && isfloat(x) && x>=0);p.addOptional('sigma', 1, @(x)isscalar(x) && isfloat(x) && x>=0);% other optional inputsp.addParamValue('der', 'fast', @(x)islogical(x) || (ischar(x) && ...    any(strcmpi(x,{'matlab','vista','fast','conv','fleck', ...    'tap5','tap7','sob','opt','ana'}))));p.addParamValue('int', 'fast', @(x)islogical(x) || (ischar(x) && ...    any(strcmpi(x,{'matlab','conv','fast','ani'}))));p.addParamValue('map', 'rothwell', @(x)ischar(x) && ...    any(strcmpi(x,{'canny','rothwell'})));p.addParamValue('samp', 1, @(x)isscalar(x) && round(x)==x && x>=1 && x<=5);p.addParamValue('radius', 3, @(x)isscalar(x) && round(x)==x && x>0);p.addParamValue('eign',[],@(x)ischar(x) && ...    any(strcmpi(x,{'abs','zen','l1','sap','sum','ndi','dif','koe'})));p.addParamValue('hyst', [], ...    @(x)isvector(x) && length(x)<=2 && all(x>=0) && all(x<1));p.addParamValue('low', [], @(x)isscalar(x) && x>=0 && x<=20);p.addParamValue('a', [], @(x)isscalar(x) && x>=0 && x<=1);% parse and validate all input argumentsp.parse(varargin{:}); p = getvarParser(p);                                                            %%% checking/setting parametersswitch p.map        case 'canny'        if ~(isempty(p.low) && isempty(p.a))            warning('rothwelledge:inputwarning',...                ['incompatible ''low'' and ''a'' with map=''canny''' ...                ' - parameters ignored'])        end        if isempty(p.eign),  p.eign = 'koe';  end                v1 = p.eign;        v2 = p.hyst;            case 'rothwell'        if ~(isempty(p.eign) && isempty(p.hyst))            warning('rothwelledge:inputwarning',...                ['incompatible ''eign'' and ''hyst'' with map=''rothwell''' ...                ' - parameters ignored'])        end        if isempty(p.low),  p.low = 5;  end        if isempty(p.a),  p.a = 0.8;  end        v1 = p.low;       v2 = p.a;end%%% main computation [emap, cmap, T] = ...    koethedge_base(I, p.rho, p.sigma, p.der, p.int, p.map, ...    p.samp, v1, v2, p.radius);if nargout==3,  varargout{1} = T;  end%%% display if p.disp    figure,  colormap gray    subplot(1,2,1), imagesc(emap), axis image off, title('GST-base edge map');    subplot(1,2,2), imagesc(cmap), axis image off, title('GST-base corner map');endend % end of koethedge##### SOURCE END #####--></body></html>