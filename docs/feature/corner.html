<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"><html>  <head>    <meta content="text/html; charset=UTF-8" http-equiv="content-type">    <title>CORNER - Corner detection techniques.</title>    <meta name="generator" content="MATLAB 7.11">    <link rel="schema.DC" href="http://purl.org/dc/elements/1.1/">    <meta name="DC.date" content="2011-07-08">    <meta name="DC.source" content="corner.m">    <style type="text/css">body {  background-color: white;  margin:10px;}h1 {  color: #990000;   font-size: x-large;}h2 {  color: #990000;  font-size: medium;}/* Make the text shrink to fit narrow windows, but not stretch too far in wide windows. */ p,h1,h2,div.content div {  max-width: 600px;  /* Hack for IE6 */  width: auto !important; width: 600px;}pre.codeinput {  background: #EEEEEE;  padding: 10px;}@media print {  pre.codeinput {word-wrap:break-word; width:100%;}} span.keyword {color: #0000FF}span.comment {color: #228B22}span.string {color: #A020F0}span.untermstring {color: #B20000}span.syscmd {color: #B28C00}pre.codeoutput {  color: #666666;  padding: 10px;}pre.error {  color: red;}p.footer {  text-align: right;  font-size: xx-small;  font-weight: lighter;  font-style: italic;  color: gray;}  </style>  </head>  <body>    <div class="content">      <h1>CORNER - Corner detection techniques.</h1>      <!--introduction--><!--/introduction-->      <h2>Contents</h2>      <div>        <ul>          <li><a href="#1">Description</a></li>          <li><a href="#2">Syntax</a></li>          <li><a href="#3">Inputs</a></li>          <li><a href="#4">Property [propertyname propertyvalues]</a></li>          <li><a href="#5">Outputs</a></li>          <li><a href="#6">References</a></li>          <li><a href="#8">See also</a></li>          <li><a href="#9">Function implementation</a></li>        </ul>      </div>      <h2>Description<a name="1"></a></h2>      <p>Performs the implementation of and the call to various corner detection        methods.</p>      <h2>Syntax<a name="2"></a></h2>      <pre>   [cornermap, ptcorner] = CORNER(I, method, 'Property', propertyvalue, ...);</pre>      <h2>Inputs<a name="3"></a></h2>      <p><b><tt>I</tt></b> : input image, possibly multichannel.</p>      <p><b><tt>method</tt></b> : (optional) string defining the method used for        corner extraction; it is either:</p>      <div>        <ul>          <li><tt>'harris'</tt> or <tt>'noble'</tt> for Harris-Forster and            Noble detections resp. using the function <tt>HARRISCORNER</tt>,</li>          <li><tt>'susan'</tt> for Susan detection [SB97] with function <tt>SUSANCORNER</tt>,</li>          <li><tt>'fast9'</tt>, <tt>'fast10'</tt>, <tt>'fast11'</tt>, <tt>'fast12'</tt>,            for any FAST corner detection using the function <tt>FASTCORNER</tt>,</li>          <li><tt>'cpda'</tt> for curvature-based detection [ALFR09] using the            function <tt>FASTCPDA</tt>;</li>        </ul>      </div>      <p>note: currently, curve corner detection (<tt>'cur'</tt>, outperformed        by <tt>'cpda'</tt>), compass corner detection (<tt>'com'</tt>, very        slow) are not included in this function, but could easily be added.</p>      <h2>Property [propertyname propertyvalues]<a name="4"></a></h2>      <p><b><tt>'thres'</tt></b> : threshold parameter used by most of the        corner detectors; see respective calls; default: <tt>thres=0.001</tt>        (as used by Harris detector).</p>      <p><b><tt>'reduce'</tt></b> : logical value defining the way the different        channels of a multispectral image are combined into the corner map; when        set to <tt>true</tt>, the detector is applied channel by channel and        the output corner map is taken as the logical <tt>OR</tt> of the output        corner maps of the different channels; default: <tt>reduce=true</tt>.</p>      <p><b><tt>'gap', 'thang'</tt></b> : parameters used by <tt>'cpda'</tt>,        maximum gap between the successive edge-points and threshold on angle        orientation;; default: <tt>gap=1</tt> pixel and <tt>thang=157</tt>        degrees.</p>      <p><b><tt>'kappa', 'radius'</tt></b> : parameters used by <tt>'har'</tt>        and/or <tt>'nob'</tt>; default: <tt>kappa=0.06</tt> and <tt>radius=3</tt>.</p>      <p><b><tt>'sig'</tt></b> : numeric variable used when the selected method        is any of <tt>'cpda'</tt>, <tt>'har'</tt> or <tt>'nob'</tt> as the        standard deviation for smoothing the 1st order directional derivatives        prior to edge detection; default: <tt>sig=1</tt>.</p>      <p><b><tt>'rho'</tt></b> : numeric variable used when the selected method        is any of <tt>'har'</tt>, or <tt>'nob'</tt> as the standard deviation        for averarging the 2nd order directional derivatives prior to edge        detection; default: <tt>rho=1</tt>.</p>      <h2>Outputs<a name="5"></a></h2>      <p><b><tt>cornermap</tt></b> : logical 2D map of corners.</p>      <p><b><tt>ptcorner</tt></b> : matrix storing corners' coordinates.</p>      <h2>References<a name="6"></a></h2>      <pre> [HS88]  C.G. Harris and M.J. Stephens: "A combined corner and edge    detector", Proc. Vision Conference, pp 147-151, 1988.    &lt;http://www.bmva.org/bmvc/1988/avc-88-023.pdf&gt;</pre>      <pre> [Noble89]  A. Noble: "Descriptions of Image Surfaces", PhD thesis, p45,    Oxford University 1989.</pre>      <pre> [SB97]  S.M. Smith and J.M. Brady: "{SUSAN} - A new approach to low    level image processing", International Journal of Computer Vision,    23(1):45-78, 1997.    &lt;http://perception.inrialpes.fr/Publications/2000/SMB00/Schmid-ijcv00.pdf&gt;</pre>      <pre> [HY04]  X.C. He and N.H.C. Yung: "Curvature scale space corner detector    with adaptive threshold and dynamic region of support", Proc. ICPR,    vol. 2, pp. 791-794, 2004.    &lt;http://ieeexplore.ieee.org/xpls/abs_all.jsp?arnumber=1334377&gt;</pre>      <pre> [HY08]	X.C. He and N.H.C. Yung: "Corner detector based on global and    local curvature properties", Optical Engineering, 47(5):057008, 2008.    &lt;http://spiedigitallibrary.org/oe/resource/1/opegar/v47/i5/p057008_s1&gt;</pre>      <pre> [AL08]  M. Awrangjeb and G. Lu: "Robust image corner detection based    on the chord-to-point distance accumulation technique", IEEE Trans.    on Multimedia, 10(6):1059-1072, 2008.    &lt;http://www.gscit.monash.edu.au/gscitweb/loid.php?loid=905299&amp;mimetype=application/pdf&gt;</pre>      <pre> [ALFR09]  M. Awrangjeb, G. Lu, C.S. Fraser and M. Ravanbakhsh: "â€œA Fast    Corner Detector Based on the Chord-to-Point Distance Accumulation    Technique", Proc. DICTA, pp. 519-525, 2009.    &lt;http://ieeexplore.ieee.org/xpls/abs_all.jsp?arnumber=5384897&gt;</pre>      <h2>See also<a name="8"></a></h2>      <p>Related: <a href="EDGECORNER.html"><tt>EDGECORNER</tt></a>, <a href="SUSANCORNER.html"><tt>SUSANCORNER</tt></a>,        <a href="HARRISCORNER.html"><tt>HARRISCORNER</tt></a>, <a href="FASTCORNER.html"><tt>FASTCORNER</tt></a>,        <a href="FASTCPDA.html"><tt>FASTCPDA</tt></a>, <a href="COMPASSEDGE.html"><tt>COMPASSEDGE</tt></a>,        <a href="CONGRUENCYEDGE.html"><tt>CONGRUENCYEDGE</tt></a>. Called: <a href="CORNER_BASE.html"><tt>CORNER_BASE</tt></a>.</p>      <h2>Function implementation<a name="9"></a></h2>      <pre class="codeinput"><span class="keyword">function</span> [cornermap, ptcorner] = corner(I, varargin)</pre>      <p>parsing parameters</p>      <pre class="codeinput">error(nargchk(1, 28, nargin, <span class="string">'struct'</span>));error(nargoutchk(1, 2, nargout, <span class="string">'struct'</span>));<span class="comment">% mandatory parameter</span><span class="keyword">if</span> ~isnumeric(I)    error(<span class="string">'corner:inputerror'</span>,<span class="string">'matrix required in input'</span>);<span class="keyword">end</span><span class="comment">% optional parameters</span>p = createParser(<span class="string">'CORNER'</span>);p.addRequired(<span class="string">'method'</span>,@(x)ischar(x) || <span class="keyword">...</span>    any(strcmpi(x,{<span class="string">'harris'</span>,<span class="string">'noble'</span>,<spanclass="string">'susan'</span>,<spanclass="string">'cpda'</span>, <spanclass="keyword">...</span>    <span class="string">'fast9'</span>,<span class="string">'fast10'</span>,<spanclass="string">'fast11'</span>,<spanclass="string">'fast12'</span>})));<span class="comment">% used by FASTCORNER</span>p.addParamValue(<span class="string">'nonmax'</span>, true, @(x)islogical(x));<span class="comment">% % used by SUSANCORNER</span><span class="comment">% p.addParamValue('md', 'flat', @(x)(ischar(x) &amp;&amp; strcmp(x,flat)) || ...</span><span class="comment">%     (isscalar(x) &amp;&amp; x&gt;0));</span><span class="comment">% p.addParamValue('n', false, @(x)isscalar(x) &amp;&amp; (x==true||x==false));</span><span class="comment">% p.addParamValue('q', true, @(x)isscalar(x) &amp;&amp; (x==true||x==false));</span><span class="comment">% used by HARRISCORNER</span>p.addParamValue(<span class="string">'kappa'</span>, 0.06, @(x)isscalar(x) &amp;&amp; isfloat(x) &amp;&amp; x&gt;0);p.addParamValue(<span class="string">'radius'</span>, 3, @(x)isscalar(x) &amp;&amp; round(x)==x &amp;&amp; x&gt;0);<span class="comment">% used by FASTCPDA</span>p.addParamValue(<span class="string">'thang'</span>,157, @(x)x&gt;=0 &amp;&amp; x&lt;=180);p.addParamValue(<span class="string">'gap'</span>,1, @(x)isscalar(x) &amp;&amp; x&gt;=1);<span class="comment">% used by FASTCPDA and HARRISCORNER</span>p.addParamValue(<span class="string">'sig'</span>, 1, @(x) isnumeric(x) || <spanclass="keyword">...</span>    (isscalar(x) &amp;&amp; isfloat(x) &amp;&amp; x&gt;0));p.addParamValue(<span class="string">'rho'</span>, 1, @(x) isnumeric(x) || <spanclass="keyword">...</span>    (isscalar(x) &amp;&amp; isfloat(x) &amp;&amp; x&gt;0));<span class="comment">% used by COMPASS</span><span class="comment">% used by all</span>p.addParamValue(<span class="string">'thres'</span>, 0.001, @(x)isscalar(x) &amp;&amp; x&gt;=0);p.addParamValue(<span class="string">'reduce'</span>,true, @(x)islogical(x));<span class="comment">% parse and validate all input arguments</span>p.parse(varargin{:});p = getvarParser(p);</pre>      <p>main calculation</p>      <pre class="codeinput">[cornermap, ptcorner] = <span class="keyword">...</span>    corner_base(I, p.method, p.thres, p.kappa, p.radius, <span class="keyword">...</span>    p.nonmax, p.gap, p.thang, p.sig, p.rho, p.reduce );<span class="keyword">if</span> p.disp<span class="keyword">end</span></pre>      <pre class="codeinput"><span class="keyword">end</span> <span class="comment">% end of corner</span></pre> </div>    <!--##### SOURCE BEGIN #####%% CORNER - Corner detection techniques.%%% Description% Performs the implementation of and the call to various corner detection methods.%%% Syntax%     [cornermap, ptcorner] = CORNER(I, method, 'Property', propertyvalue, ...);%%% Inputs% *|I|* : input image, possibly multichannel.%      % *|method|* : (optional) string defining the method used for corner extraction;%      it is either:%      % * |'harris'| or |'noble'| for Harris-Forster and Noble detections resp.%          using the function |HARRISCORNER|,% * |'susan'| for Susan detection [SB97] with function |SUSANCORNER|,% * |'fast9'|, |'fast10'|, |'fast11'|, |'fast12'|, for any FAST corner detection%          using the function |FASTCORNER|,% * |'cpda'| for curvature-based detection [ALFR09] using the function%          |FASTCPDA|;%      % note: currently, curve corner detection (|'cur'|, outperformed by |'cpda'|), % compass corner detection (|'com'|, very slow) are not included in this function,% but could easily be added.%%% Property [propertyname  propertyvalues]% *|'thres'|* : threshold parameter used by most of the corner detectors; see%      respective calls; default: |thres=0.001| (as used by Harris detector).%      % *|'reduce'|* : logical value defining the way the different channels%      of a multispectral image are combined into the corner map; when set %      to |true|, the detector is applied channel by channel and the output%      corner map is taken as the logical |OR| of the output corner maps of%      the different channels; default: |reduce=true|.%      % *|'gap', 'thang'|* : parameters used by |'cpda'|, maximum gap between the%      successive edge-points and threshold on angle orientation;; default:%      |gap=1| pixel and |thang=157| degrees.%      % *|'kappa', 'radius'|* : parameters used by |'har'| and/or |'nob'|; default: %      |kappa=0.06| and |radius=3|.%      % *|'sig'|* : numeric variable used when the selected method is any of |'cpda'|,%      |'har'| or |'nob'| as the standard deviation for smoothing the 1st order%      directional derivatives prior to edge detection; default: |sig=1|.%      % *|'rho'|* : numeric variable used when the selected method is any of |'har'|,%      or |'nob'| as the standard deviation for averarging the 2nd order%      directional derivatives prior to edge detection; default: |rho=1|.%%% Outputs% *|cornermap|* : logical 2D map of corners.%      % *|ptcorner|* : matrix storing corners' coordinates.%%% References%   [HS88]  C.G. Harris and M.J. Stephens: "A combined corner and edge %      detector", Proc. Vision Conference, pp 147-151, 1988.%      <http://www.bmva.org/bmvc/1988/avc-88-023.pdf>%      %   [Noble89]  A. Noble: "Descriptions of Image Surfaces", PhD thesis, p45, %      Oxford University 1989.%      %   [SB97]  S.M. Smith and J.M. Brady: "{SUSAN} - A new approach to low  %      level image processing", International Journal of Computer Vision,%      23(1):45-78, 1997.%      <http://perception.inrialpes.fr/Publications/2000/SMB00/Schmid-ijcv00.pdf>%      %   [HY04]  X.C. He and N.H.C. Yung: "Curvature scale space corner detector%      with adaptive threshold and dynamic region of support", Proc. ICPR,%      vol. 2, pp. 791-794, 2004.%      <http://ieeexplore.ieee.org/xpls/abs_all.jsp?arnumber=1334377>%      %   [HY08]	X.C. He and N.H.C. Yung: "Corner detector based on global and %      local curvature properties", Optical Engineering, 47(5):057008, 2008.%      <http://spiedigitallibrary.org/oe/resource/1/opegar/v47/i5/p057008_s1>%      %   [AL08]  M. Awrangjeb and G. Lu: "Robust image corner detection based %      on the chord-to-point distance accumulation technique", IEEE Trans.%      on Multimedia, 10(6):1059-1072, 2008.%      <http://www.gscit.monash.edu.au/gscitweb/loid.php?loid=905299&mimetype=application/pdf>%      %   [ALFR09]  M. Awrangjeb, G. Lu, C.S. Fraser and M. Ravanbakhsh: "Â“A Fast%      Corner Detector Based on the Chord-to-Point Distance Accumulation %      Technique", Proc. DICTA, pp. 519-525, 2009.%      <http://ieeexplore.ieee.org/xpls/abs_all.jsp?arnumber=5384897>%%% Credit% <mailto:grazzja@lanl.gov J.Grazzini> (ISR-2/LANL)%%% See also% Related:% <EDGECORNER.html |EDGECORNER|>,% <SUSANCORNER.html |SUSANCORNER|>,% <HARRISCORNER.html |HARRISCORNER|>,% <FASTCORNER.html |FASTCORNER|>,% <FASTCPDA.html |FASTCPDA|>,% <COMPASSEDGE.html |COMPASSEDGE|>,% <CONGRUENCYEDGE.html |CONGRUENCYEDGE|>.% Called: % <CORNER_BASE.html |CORNER_BASE|>.%% Function implementationfunction [cornermap, ptcorner] = corner(I, varargin)%% % parsing parameterserror(nargchk(1, 28, nargin, 'struct'));error(nargoutchk(1, 2, nargout, 'struct'));% mandatory parameterif ~isnumeric(I)    error('corner:inputerror','matrix required in input'); end% optional parametersp = createParser('CORNER');  p.addRequired('method',@(x)ischar(x) || ...    any(strcmpi(x,{'harris','noble','susan','cpda', ...    'fast9','fast10','fast11','fast12'})));% used by FASTCORNERp.addParamValue('nonmax', true, @(x)islogical(x));% % used by SUSANCORNER% p.addParamValue('md', 'flat', @(x)(ischar(x) && strcmp(x,flat)) || ...%     (isscalar(x) && x>0));% p.addParamValue('n', false, @(x)isscalar(x) && (x==true||x==false));% p.addParamValue('q', true, @(x)isscalar(x) && (x==true||x==false));% used by HARRISCORNERp.addParamValue('kappa', 0.06, @(x)isscalar(x) && isfloat(x) && x>0);p.addParamValue('radius', 3, @(x)isscalar(x) && round(x)==x && x>0);% used by FASTCPDAp.addParamValue('thang',157, @(x)x>=0 && x<=180); p.addParamValue('gap',1, @(x)isscalar(x) && x>=1);% used by FASTCPDA and HARRISCORNERp.addParamValue('sig', 1, @(x) isnumeric(x) || ...    (isscalar(x) && isfloat(x) && x>0));p.addParamValue('rho', 1, @(x) isnumeric(x) || ...    (isscalar(x) && isfloat(x) && x>0));% used by COMPASS% used by allp.addParamValue('thres', 0.001, @(x)isscalar(x) && x>=0);p.addParamValue('reduce',true, @(x)islogical(x));% parse and validate all input argumentsp.parse(varargin{:}); p = getvarParser(p);                                                            %%% main calculation[cornermap, ptcorner] = ...    corner_base(I, p.method, p.thres, p.kappa, p.radius, ...    p.nonmax, p.gap, p.thang, p.sig, p.rho, p.reduce );if p.dispendend % end of corner##### SOURCE END #####-->  </body></html>