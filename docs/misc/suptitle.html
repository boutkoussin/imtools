<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"><html>  <head>    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">    <!--This HTML was auto-generated from MATLAB code.To make changes, update the MATLAB code and republish this document.      -->    <title>SUPTITLE - Puts a title above all subplots.</title>    <meta name="generator" content="MATLAB 7.14">    <link rel="schema.DC" href="http://purl.org/dc/elements/1.1/">    <meta name="DC.date" content="2012-11-14">    <meta name="DC.source" content="suptitle.m">    <style type="text/css">html,body,div,span,applet,object,iframe,h1,h2,h3,h4,h5,h6,p,blockquote,pre,a,abbr,acronym,address,big,cite,code,del,dfn,em,font,img,ins,kbd,q,s,samp,small,strike,strong,sub,sup,tt,var,b,u,i,center,dl,dt,dd,ol,ul,li,fieldset,form,label,legend,table,caption,tbody,tfoot,thead,tr,th,td{margin:0;padding:0;border:0;outline:0;font-size:100%;vertical-align:baseline;background:transparent}body{line-height:1}ol,ul{list-style:none}blockquote,q{quotes:none}blockquote:before,blockquote:after,q:before,q:after{content:'';content:none}:focus{outine:0}ins{text-decoration:none}del{text-decoration:line-through}table{border-collapse:collapse;border-spacing:0}html { min-height:100%; margin-bottom:1px; }html body { height:100%; margin:0px; font-family:Arial, Helvetica, sans-serif; font-size:10px; color:#000; line-height:140%; background:#fff none; overflow-y:scroll; }html body td { vertical-align:top; text-align:left; }h1 { padding:0px; margin:0px 0px 25px; font-family:Arial, Helvetica, sans-serif; font-size:1.5em; color:#d55000; line-height:100%; font-weight:normal; }h2 { padding:0px; margin:0px 0px 8px; font-family:Arial, Helvetica, sans-serif; font-size:1.2em; color:#000; font-weight:bold; line-height:140%; border-bottom:1px solid #d6d4d4; display:block; }h3 { padding:0px; margin:0px 0px 5px; font-family:Arial, Helvetica, sans-serif; font-size:1.1em; color:#000; font-weight:bold; line-height:140%; }a { color:#005fce; text-decoration:none; }a:hover { color:#005fce; text-decoration:underline; }a:visited { color:#004aa0; text-decoration:none; }p { padding:0px; margin:0px 0px 20px; }img { padding:0px; margin:0px 0px 20px; border:none; }p img, pre img, tt img, li img { margin-bottom:0px; } ul { padding:0px; margin:0px 0px 20px 23px; list-style:square; }ul li { padding:0px; margin:0px 0px 7px 0px; }ul li ul { padding:5px 0px 0px; margin:0px 0px 7px 23px; }ul li ol li { list-style:decimal; }ol { padding:0px; margin:0px 0px 20px 0px; list-style:decimal; }ol li { padding:0px; margin:0px 0px 7px 23px; list-style-type:decimal; }ol li ol { padding:5px 0px 0px; margin:0px 0px 7px 0px; }ol li ol li { list-style-type:lower-alpha; }ol li ul { padding-top:7px; }ol li ul li { list-style:square; }.content { font-size:1.2em; line-height:140%; padding: 20px; }pre, tt, code { font-size:12px; }pre { margin:0px 0px 20px; }pre.error { color:red; }pre.codeinput { padding:10px; border:1px solid #d3d3d3; background:#f7f7f7; }pre.codeoutput { padding:10px 11px; margin:0px 0px 20px; color:#4c4c4c; }@media print { pre.codeinput, pre.codeoutput { word-wrap:break-word; width:100%; } }span.keyword { color:#0000FF }span.comment { color:#228B22 }span.string { color:#A020F0 }span.untermstring { color:#B20000 }span.syscmd { color:#B28C00 }.footer { width:auto; padding:10px 0px; margin:25px 0px 0px; border-top:1px dotted #878787; font-size:0.8em; line-height:140%; font-style:italic; color:#878787; text-align:left; float:none; }.footer p { margin:0px; }  </style>  </head>  <body>    <div class="content">      <h1>SUPTITLE - Puts a title above all subplots.</h1>      <!--introduction--><!--/introduction-->      <h2>Contents</h2>      <div>        <ul>          <li><a href="#1">Description</a></li>          <li><a href="#2">Syntax</a></li>          <li><a href="#3">Remarks</a></li>          <li><a href="#4">Acknowledgment</a></li>          <li><a href="#5">See also</a></li>          <li><a href="#6">Function implementation</a></li>        </ul>      </div>      <h2>Description<a name="1"></a></h2>      <p>Add text to the top of the figure above all subplots (a "super title").</p>      <h2>Syntax<a name="2"></a></h2>      <pre>    SUPTITLE('text');</pre>      <h2>Remarks<a name="3"></a></h2>      <div>        <ul>          <li>Use this function after all subplot commands.</li>        </ul>      </div>      <div>        <ul>          <li>Warning: If the figure or axis units are non-default, this will            break.</li>        </ul>      </div>      <h2>Acknowledgment<a name="4"></a></h2>      <p>Original file from Drea Thomas 6/15/95 <a href="mailto:drea@mathworks.com">drea@mathworks.com</a>        Imported from Matlab Central</p>      <h2>See also<a name="5"></a></h2>      <p>Ressembles: <a href="matlab:webpub%28whichpath%28%27TITLE%27%29%29"><tt>TITLE</tt></a>.        Requires: <a href="matlab:webpub%28whichpath%28%27SET%27%29%29"><tt>SET</tt></a>,        <a href="matlab:webpub%28whichpath%28%27GET%27%29%29"><tt>GET</tt></a>,        <a href="matlab:webpub%28whichpath%28%27GCF%27%29%29"><tt>GCF</tt></a>,        <a href="matlab:webpub%28whichpath%28%27FINDOBJ%27%29%29"><tt>FINDOBJ</tt></a>.</p>      <h2>Function implementation<a name="6"></a></h2>      <pre class="codeinput"><span class="keyword">function</span> hout=suptitle(str)</pre>      <p>parameters used to position the supertitle.</p>      <pre class="codeinput"><span class="comment">% Amount of the figure window devoted to subplots</span>plotregion = .90;<span class="comment">% Y position of title in normalized coordinates</span>titleypos  = .95;<span class="comment">% fontsize for supertitle</span>fs = get(gcf,<span class="string">'defaultaxesfontsize'</span>)+1;<span class="comment">% fudge factor to adjust y spacing between subplots</span>fudge=1;haold = gca;figunits = get(gcf,<span class="string">'units'</span>);<span class="comment">% get the (approximate) difference between full height (plot + title</span><span class="comment">% + xlabel) and bounding rectangle.</span><span class="keyword">if</span> (~strcmp(figunits,<span class="string">'pixels'</span>)),    set(gcf,<span class="string">'units'</span>,<span class="string">'pixels'</span>);    pos = get(gcf,<span class="string">'position'</span>);    set(gcf,<span class="string">'units'</span>,figunits);<span class="keyword">else</span>    pos = get(gcf,<span class="string">'position'</span>);<span class="keyword">end</span>ff = (fs-4)*1.27*5/pos(4)*fudge;<span class="comment">% the 5 here reflects about 3 characters of height below an axis and 2 above.</span><span class="comment">% 1.27 is pixels per point.</span></pre>      <p>determine the bounding rectange for all the plots</p>      <pre class="codeinput"><span class="comment">% h = findobj('Type','axes');</span><span class="comment">% findobj is a 4.2 thing.. if you don't have 4.2 comment out</span><span class="comment">% the next line and uncomment the following block.</span>h = findobj(gcf,<span class="string">'Type'</span>,<span class="string">'axes'</span>);  <spanclass="comment">% Change suggested by Stacy J. Hills</span><span class="comment">% If you don't have 4.2, use this code instead</span><span class="comment">%ch = get(gcf,'children');</span><span class="comment">%h=[];</span><span class="comment">%for i=1:length(ch),</span><span class="comment">%  if strcmp(get(ch(i),'type'),'axes'),</span><span class="comment">%    h=[h,ch(i)];</span><span class="comment">%  end</span><span class="comment">%end</span>max_y=0;min_y=1;</pre>      <p>position the title</p>      <pre class="codeinput">oldtitle =0;<span class="keyword">for</span> i=1:length(h),    <span class="keyword">if</span> (~strcmp(get(h(i),<span class="string">'Tag'</span>),<spanclass="string">'suptitle'</span>)),        pos=get(h(i),<span class="string">'pos'</span>);        <span class="keyword">if</span> (pos(2) &lt; min_y), min_y=pos(2)-ff/5*3;<spanclass="keyword">end</span>;        <span class="keyword">if</span> (pos(4)+pos(2) &gt; max_y), max_y=pos(4)+pos(2)+ff/5*2;<spanclass="keyword">end</span>;    <span class="keyword">else</span>        oldtitle = h(i);    <span class="keyword">end</span><span class="keyword">end</span><span class="keyword">if</span> max_y &gt; plotregion,    scale = (plotregion-min_y)/(max_y-min_y);    <span class="keyword">for</span> i=1:length(h),        pos = get(h(i),<span class="string">'position'</span>);        pos(2) = (pos(2)-min_y)*scale+min_y;         pos(4) = pos(4)*scale-(1-scale)*ff/5*3;         set(h(i),<span class="string">'position'</span>,pos);     <span class="keyword">end</span> <span class="keyword">end</span> np = get(gcf,<span class="string">'nextplot'</span>); set(gcf,<span class="string">'nextplot'</span>,<span class="string">'add'</span>); <span class="keyword">if</span> (oldtitle),  delete(oldtitle);  <span class="keyword">end</span> axes(<span class="string">'pos'</span>,[0 1 1 1],<span class="string">'visible'</span>,<spanclass="string">'off'</span>,<spanclass="string">'Tag'</span>,<spanclass="string">'suptitle'</span>); ht = text(.5,titleypos-1,str); set(ht,<span class="string">'horizontalalignment'</span>,<span class="string">'center'</span>,<spanclass="string">'fontsize'</span>,fs); set(gcf,<span class="string">'nextplot'</span>,np); axes(haold);                                                          <span class="comment">%#ok</span> <span class="keyword">if</span> nargout,  hout=ht;  <span class="keyword">end</span></pre>      <pre class="codeinput"><span class="keyword">end</span> <span class="comment">% end of suptitle</span></pre></div>    <!--##### SOURCE BEGIN #####%% SUPTITLE - Puts a title above all subplots.%%% Description% Add text to the top of the figure above all subplots (a "super title"). %%% Syntax%      SUPTITLE('text');%%% Remarks% * Use this function after all subplot commands.% % * Warning: If the figure or axis units are non-default, this will break.%%% Acknowledgment% Original file from Drea Thomas 6/15/95 drea@mathworks.com% Imported from Matlab Central%%% See also% Ressembles:% <matlab:webpub(whichpath('TITLE')) |TITLE|>.% Requires:  % <matlab:webpub(whichpath('SET')) |SET|>,% <matlab:webpub(whichpath('GET')) |GET|>,% <matlab:webpub(whichpath('GCF')) |GCF|>,% <matlab:webpub(whichpath('FINDOBJ')) |FINDOBJ|>.%% Function implementationfunction hout=suptitle(str)%%% parameters used to position the supertitle.% Amount of the figure window devoted to subplotsplotregion = .90;% Y position of title in normalized coordinatestitleypos  = .95;% fontsize for supertitlefs = get(gcf,'defaultaxesfontsize')+1;% fudge factor to adjust y spacing between subplotsfudge=1;haold = gca;figunits = get(gcf,'units');% get the (approximate) difference between full height (plot + title% + xlabel) and bounding rectangle.if (~strcmp(figunits,'pixels')),    set(gcf,'units','pixels');    pos = get(gcf,'position');    set(gcf,'units',figunits);else    pos = get(gcf,'position');endff = (fs-4)*1.27*5/pos(4)*fudge;% the 5 here reflects about 3 characters of height below an axis and 2 above.% 1.27 is pixels per point.%%% determine the bounding rectange for all the plots% h = findobj('Type','axes');% findobj is a 4.2 thing.. if you don't have 4.2 comment out% the next line and uncomment the following block.h = findobj(gcf,'Type','axes');  % Change suggested by Stacy J. Hills% If you don't have 4.2, use this code instead%ch = get(gcf,'children');%h=[];%for i=1:length(ch),%  if strcmp(get(ch(i),'type'),'axes'),%    h=[h,ch(i)];%  end%endmax_y=0;min_y=1;%%% position the titleoldtitle =0;for i=1:length(h),    if (~strcmp(get(h(i),'Tag'),'suptitle')),        pos=get(h(i),'pos');        if (pos(2) < min_y), min_y=pos(2)-ff/5*3;end;        if (pos(4)+pos(2) > max_y), max_y=pos(4)+pos(2)+ff/5*2;end;    else        oldtitle = h(i);    endendif max_y > plotregion,    scale = (plotregion-min_y)/(max_y-min_y);    for i=1:length(h),        pos = get(h(i),'position');        pos(2) = (pos(2)-min_y)*scale+min_y;         pos(4) = pos(4)*scale-(1-scale)*ff/5*3;         set(h(i),'position',pos);     end end  np = get(gcf,'nextplot'); set(gcf,'nextplot','add'); if (oldtitle),  delete(oldtitle);  end  axes('pos',[0 1 1 1],'visible','off','Tag','suptitle'); ht = text(.5,titleypos-1,str); set(ht,'horizontalalignment','center','fontsize',fs); set(gcf,'nextplot',np); axes(haold);                                                          %#ok if nargout,  hout=ht;  endend % end of suptitle##### SOURCE END #####-->  </body></html>