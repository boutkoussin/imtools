<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"><html>  <head>    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">    <title>ALLCOMBS - All 'crossed' combinations of elements in various      input vectors.</title>    <meta name="generator" content="MATLAB 7.11">    <link rel="schema.DC" href="http://purl.org/dc/elements/1.1/">    <meta name="DC.date" content="2011-07-11">    <meta name="DC.source" content="allcombs.m">    <style type="text/css">body {  background-color: white;  margin:10px;}h1 {  color: #990000;   font-size: x-large;}h2 {  color: #990000;  font-size: medium;}/* Make the text shrink to fit narrow windows, but not stretch too far in wide windows. */ p,h1,h2,div.content div {  max-width: 600px;  /* Hack for IE6 */  width: auto !important; width: 600px;}pre.codeinput {  background: #EEEEEE;  padding: 10px;}@media print {  pre.codeinput {word-wrap:break-word; width:100%;}} span.keyword {color: #0000FF}span.comment {color: #228B22}span.string {color: #A020F0}span.untermstring {color: #B20000}span.syscmd {color: #B28C00}pre.codeoutput {  color: #666666;  padding: 10px;}pre.error {  color: red;}p.footer {  text-align: right;  font-size: xx-small;  font-weight: lighter;  font-style: italic;  color: gray;}  </style>  </head>  <body>    <div class="content">      <h1>ALLCOMBS - All 'crossed' combinations of elements in various        input vectors.</h1>      <!--introduction--><!--/introduction-->      <h2>Contents</h2>      <div>        <ul>          <li><a href="#1">Description</a></li>          <li><a href="#2">Syntax</a></li>          <li><a href="#3">Inputs</a></li>          <li><a href="#4">Output</a></li>          <li><a href="#5">Acknowledgment</a></li>          <li><a href="#6">Contact</a></li>          <li><a href="#7">See also</a></li>          <li><a href="#8">Function implementation</a></li>        </ul>      </div>      <h2>Description<a name="1"></a></h2>      <p><tt>A = ALLCOMBS(A1,A2,A3,...,AN)</tt> returns all combinations        of the elements in <tt>A1</tt>, <tt>A2</tt>, ..., and <tt>AN</tt>.</p>      <h2>Syntax<a name="2"></a></h2>      <pre>     A = ALLCOMBS(varargin);</pre>      <h2>Inputs<a name="3"></a></h2>      <p><b><tt>A1, A2, A3, ..., AN</tt></b> : inputs list of <tt>N</tt>        matrices whose entries will be combined through permutations.</p>      <h2>Output<a name="4"></a></h2>      <p><b><tt>A</tt></b> : a <tt>(P,N)</tt> matrix in which <tt>P</tt>        is the product of the number of elements of the <tt>N</tt>        inputs; empty inputs yields an empty matrix <tt>A</tt> of size        <tt>(0,N)</tt>.</p>      <h2>Acknowledgment<a name="5"></a></h2>      <p>Short version of <tt>ALLCOMB</tt> by Jos van der Geest, no        arguments' checking. See <a href="http://www.mathworks.com/matlabcentral/fileexchange/10064-allcomb">http://www.mathworks.com/matlabcentral/fileexchange/10064-allcomb</a></p>      <h2>See also<a name="7"></a></h2>      <p>Related: <a href="matlab:webpub%28whichpath%28%27ALLCOMB%27%29%29"><tt>ALLCOMB</tt></a>,        <a href="matlab:webpub%28whichpath%28%27ALLVCOMBS%27%29%29"><tt>ALLVCOMBS</tt></a>,        <a href="matlab:webpub%28whichpath%28%27PERMS%27%29%29"><tt>PERMS</tt></a>,        <a href="matlab:webpub%28whichpath%28%27NCHOOSEK%27%29%29"><tt>NCHOOSEK</tt></a>.        Called: <a href="matlab:webpub%28whichpath%28%27NDGRID%27%29%29"><tt>NDGRID</tt></a>,        <a href="matlab:webpub%28whichpath%28%27CAT%27%29%29"><tt>CAT</tt></a>.</p>      <h2>Function implementation<a name="8"></a></h2>      <pre class="codeinput"><span class="keyword">function</span> A = allcombs(varargin)<span class="comment">% check for empty inputs</span>q = ~cellfun(<span class="string">'isempty'</span>,varargin);<span class="keyword">if</span> any(~q),    A = zeros(0,nargin) ;<span class="keyword">else</span>    ii = 1:nargin; <span class="comment">% let the first input run fastest</span>    args = varargin(q) ;    <span class="keyword">if</span> nargin==1,  A = args{1}(:) ;    <span class="keyword">else</span>        <span class="comment">% flip using ii if last column is changing fastest: ii is used as an</span>        <span class="comment">% index on the left-hand for the multiple outputs by NDGRID</span>        [A{ii}] = ndgrid(args{ii});        <span class="comment">% concatenate into one matrix, reshape into 2D and flip columns</span>        A = reshape(cat(nargin+1,A{:}),[],nargin) ;    <span class="keyword">end</span><span class="keyword">end</span><span class="keyword">end</span> <span class="comment">% end of allcombs</span></pre> </div>    <!--##### SOURCE BEGIN #####%% ALLCOMBS - All 'crossed' combinations of elements in various input vectors.%%% Description% |A = ALLCOMBS(A1,A2,A3,...,AN)| returns all combinations of the elements% in |A1|, |A2|, ..., and |AN|. %%% Syntax%       A = ALLCOMBS(varargin);%%% Inputs% *|A1, A2, A3, ..., AN|* : inputs list of |N| matrices whose entries will%     be combined through permutations.%%% Output% *|A|* : a |(P,N)| matrix in which |P| is the product of the number of %     elements of the |N| inputs; empty inputs yields an empty matrix |A| %     of size |(0,N)|. %%% Acknowledgment% Short version of |ALLCOMB| by Jos van der Geest, no arguments' checking.% See http://www.mathworks.com/matlabcentral/fileexchange/10064-allcomb%%% Contact% <mailto:grazzja@lanl.gov J.Grazzini> (ISR-2/LANL)%%% See also% Related:% <matlab:webpub(whichpath('ALLCOMB')) |ALLCOMB|>,% <matlab:webpub(whichpath('ALLVCOMBS')) |ALLVCOMBS|>,% <matlab:webpub(whichpath('PERMS')) |PERMS|>,% <matlab:webpub(whichpath('NCHOOSEK')) |NCHOOSEK|>.% Called:% <matlab:webpub(whichpath('NDGRID')) |NDGRID|>,% <matlab:webpub(whichpath('CAT')) |CAT|>.%% Function implementationfunction A = allcombs(varargin)  % check for empty inputsq = ~cellfun('isempty',varargin);if any(~q),    A = zeros(0,nargin) ;else        ii = 1:nargin; % let the first input run fastest    args = varargin(q) ;    if nargin==1,  A = args{1}(:) ;    else        % flip using ii if last column is changing fastest: ii is used as an        % index on the left-hand for the multiple outputs by NDGRID        [A{ii}] = ndgrid(args{ii});          % concatenate into one matrix, reshape into 2D and flip columns        A = reshape(cat(nargin+1,A{:}),[],nargin) ;    endendend % end of allcombs##### SOURCE END #####--> </body></html>