<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"><html>  <head>    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">    <title>FUZZBOUND_BASE - Base function for FUZZBOUND.</title>    <meta name="generator" content="MATLAB 7.11">    <link rel="schema.DC" href="http://purl.org/dc/elements/1.1/">    <meta name="DC.date" content="2011-07-25">    <meta name="DC.source" content="fuzzbound_base.m">    <style type="text/css">body {  background-color: white;  margin:10px;}h1 {  color: #990000;   font-size: x-large;}h2 {  color: #990000;  font-size: medium;}/* Make the text shrink to fit narrow windows, but not stretch too far in wide windows. */ p,h1,h2,div.content div {  max-width: 600px;  /* Hack for IE6 */  width: auto !important; width: 600px;}pre.codeinput {  background: #EEEEEE;  padding: 10px;}@media print {  pre.codeinput {word-wrap:break-word; width:100%;}} span.keyword {color: #0000FF}span.comment {color: #228B22}span.string {color: #A020F0}span.untermstring {color: #B20000}span.syscmd {color: #B28C00}pre.codeoutput {  color: #666666;  padding: 10px;}pre.error {  color: red;}p.footer {  text-align: right;  font-size: xx-small;  font-weight: lighter;  font-style: italic;  color: gray;}  </style>  </head>  <body>    <div class="content">      <h1>FUZZBOUND_BASE - Base function for FUZZBOUND.</h1>      <!--introduction--><!--/introduction-->      <h2>Contents</h2>      <div>        <ul>          <li><a href="#1">Syntax</a></li>          <li><a href="#2">Credit</a></li>          <li><a href="#3">See also</a></li>          <li><a href="#4">Function implementation</a></li>        </ul>      </div>      <h2>Syntax<a name="1"></a></h2>      <pre>   fmap = FUZZBOUND_BASE(fmemb, thmax, thcon, thent);</pre>      <h2>See also<a name="3"></a></h2>      <p>Related: <a href="FUZZBOUND.html"><tt>FUZZBOUND</tt></a>.</p>      <h2>Function implementation<a name="4"></a></h2>      <pre class="codeinput"><span class="keyword">function</span> fmap = fuzzbound_base(fmemb, thmax, thcon, thent)</pre>      <p>setting internal variables</p>      <pre class="codeinput">[X,Y,nC] = size(fmemb);ind = 0:X*Y-1;</pre>      <p>main calculation</p>      <pre class="codeinput"><span class="comment">% the process defining fuzzy boundaries can be done via a slicing</span>mfm = min(fmemb(:)); <span class="comment">% should be 0</span>fmap = zeros(X,Y,3);</pre>      <div>        <ul>          <li>an individual location x is selected as belonging to a            fuzzy boundary if the value of its maximum fuzzy membership            value p_max is less than a threshold value r.</li>        </ul>      </div>      <pre class="codeinput">f = permute(reshape(fmemb,[X*Y nC]), [2 1]);[~,i] = max(f,[],1);</pre>      <p>get the maximum membership value</p>      <pre class="codeinput">pmax = f(i+nC*ind);</pre>      <p>store the max value in fmap, 1 component</p>      <pre class="codeinput">fmap(:,:,1) = reshape(pmax, [X Y]);<span class="keyword">if</span> ~isempty(thmax) &amp;&amp; thmax&lt;1    fmap(:,:,1) = fmap(:,:,1) &lt;= thmax;<span class="keyword">end</span></pre>      <div>        <ul>          <li>the confusion index for defining fuzzy boundaries,            involves two fuzzy membership values for each location : the            confusion index is evaluated by 1.0 minus the difference            between the fuzzy membership values of location x belonging            to the first most likely and the second most likely classes.            a threshold T is applied so that location x defines a fuzzy            boundary if the confusion index is greater than a            pre-defined threshold v.</li>        </ul>      </div>      <pre class="codeinput">f(i+nC*ind) = mfm-eps; <span class="comment">% set to the min</span>pmax2 = max(f,[],1);fmap(:,:,2) = 1 - reshape(pmax - pmax2, [X Y]);<span class="keyword">if</span> ~isempty(thcon) &amp;&amp; thcon&lt;1    fmap(:,:,2) = fmap(:,:,2)  &lt;= thcon;<span class="keyword">end</span></pre>      <div>        <ul>          <li>the measure of entropy, for defining fuzzy boundaries,            which uses the complete fuzzy membership values for each            location. Large values indicate low accuracy in            classification, while small values indicate high accuracy in            classification. Then, it is logical to assert that            boundaries usually occur where locations have high degrees            of fuzziness, that is, big values of entropy.</li>        </ul>      </div>      <pre class="codeinput">fmap(:,:,3) = - sum( fmemb .* log (fmemb) / log(2), 3);<span class="keyword">if</span> ~isempty(thcon) &amp;&amp; thcon&gt;0    fmap(:,:,3) = fmap(:,:,3)  &gt; thent;<span class="keyword">end</span></pre>      <pre class="codeinput"><span class="keyword">end</span> <span class="comment">% end of fuzzbound_base</span></pre> </div>    <!--##### SOURCE BEGIN #####%% FUZZBOUND_BASE - Base function for FUZZBOUND.% %% Syntax%     fmap = FUZZBOUND_BASE(fmemb, thmax, thcon, thent);%%% Credit% <mailto:grazzja@lanl.gov J.Grazzini> (ISR-2/LANL)% %% See also% Related:% <FUZZBOUND.html |FUZZBOUND|>.%% Function implementationfunction fmap = fuzzbound_base(fmemb, thmax, thcon, thent)%%% setting internal variables[X,Y,nC] = size(fmemb);ind = 0:X*Y-1;%%% main calculation% the process defining fuzzy boundaries can be done via a slicingmfm = min(fmemb(:)); % should be 0fmap = zeros(X,Y,3);%%% * an individual location x is selected as belonging to a fuzzy boundary % if the value of its maximum fuzzy membership value p_max is less than a% threshold value r. f = permute(reshape(fmemb,[X*Y nC]), [2 1]);[~,i] = max(f,[],1);%%% get the maximum membership valuepmax = f(i+nC*ind);%%% store the max value in fmap, 1 componentfmap(:,:,1) = reshape(pmax, [X Y]);if ~isempty(thmax) && thmax<1     fmap(:,:,1) = fmap(:,:,1) <= thmax;end%%% * the confusion index for defining fuzzy boundaries, involves% two fuzzy membership values for each location : the confusion index is% evaluated by 1.0 minus the difference between the fuzzy membership values% of location x belonging to the first most likely and the second most% likely classes. a threshold T is applied so that location x defines a% fuzzy boundary if the confusion index is greater than a pre-defined % threshold v.f(i+nC*ind) = mfm-eps; % set to the minpmax2 = max(f,[],1);fmap(:,:,2) = 1 - reshape(pmax - pmax2, [X Y]);if ~isempty(thcon) && thcon<1     fmap(:,:,2) = fmap(:,:,2)  <= thcon;end%%% * the measure of entropy, for defining fuzzy boundaries, which uses the % complete fuzzy membership values for each location. Large values% indicate low accuracy in classification, while small values indicate high% accuracy in classification. Then, it is logical to assert that boundaries % usually occur where locations have high degrees of fuzziness, that is,% big values of entropy.fmap(:,:,3) = - sum( fmemb .* log (fmemb) / log(2), 3);if ~isempty(thcon) && thcon>0     fmap(:,:,3) = fmap(:,:,3)  > thent;endend % end of fuzzbound_base##### SOURCE END #####-->  </body></html>